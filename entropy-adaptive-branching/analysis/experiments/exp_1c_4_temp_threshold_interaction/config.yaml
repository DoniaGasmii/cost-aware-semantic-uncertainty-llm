# Experiment 1.C.4: Temperature × Threshold Interaction
# RQ: How do temperature and threshold interact to control branching?
# Hypothesis: Optimal combinations exist for different use cases

experiment:
  name: "exp_1c_4_temp_threshold_interaction"
  description: "2D grid search: temperature vs entropy_threshold"
  date_created: "2026-01-09"
  parent_experiment: "1.C - Hyperparameter Sensitivity"
  sub_experiment: "4 of 4"

# Model configuration
model:
  name: "Qwen/Qwen2.5-3B-Instruct"
  device: "cuda"
  dtype: "float16"

# Generation parameters
generation:
  max_new_tokens: 30
  top_p: 1.0
  do_sample: true

# EAB parameters
eab:
  branch_factor: 3          # Fixed
  max_paths: 20             # Fixed
  implementation: "cow"

# INDEPENDENT VARIABLES: 2D grid
temperatures: [0.6, 0.8, 1.0, 1.2]
entropy_thresholds: [0.036, 0.055, 0.075, 0.100]  # Conservative, Balanced, Moderate, Aggressive
prompts_per_combination: 5  # 4×4×5 = 80 runs total

# Fixed variables
prompt_length: 200

# Debug mode
debug:
  enabled: true
  temperatures: [0.6, 1.2]
  entropy_thresholds: [0.036, 0.100]
  prompts_per_combination: 2  # 2×2×2 = 8 runs

# Metrics to track
metrics:
  cost:
    - "token_steps"
    - "wall_clock_time"
    - "memory_peak_mb"
    - "tokens_per_sample"
  efficiency:
    - "speedup_factor"
    - "cost_ratio"
  branching:
    - "branch_count"
    - "avg_branch_position"
    - "final_path_count"
    - "branching_rate"
  entropy:
    - "avg_entropy"
    - "max_entropy"
    - "entropy_std"
  quality:
    - "diversity_score"
    - "coherence_score"
    - "unique_tokens_ratio"

# Output configuration
output:
  save_raw_results: true
  save_intermediate: true
  save_generated_texts: true
  results_dir: "results"
  figures_dir: "results/figures"
  texts_dir: "results/generated_texts"

# Reproducibility
seed: 42
