# Experiment 1.C.1: Branch Factor Sensitivity
# RQ: How does branching width affect cost-quality tradeoff?
# Hypothesis: Higher branch_factor = more diversity but higher cost

experiment:
  name: "exp_1c_1_branch_factor_sensitivity"
  description: "Analyze impact of branch_factor on cost-quality tradeoff"
  date_created: "2026-01-09"
  parent_experiment: "1.C - Hyperparameter Sensitivity"
  sub_experiment: "1 of 4"

# Model configuration
model:
  name: "Qwen/Qwen2.5-3B-Instruct"
  device: "cuda"
  dtype: "float16"

# Generation parameters (fixed)
generation:
  max_new_tokens: 30
  temperature: 0.8
  top_p: 1.0
  do_sample: true

# EAB parameters
eab:
  entropy_threshold: 0.055  # Fixed
  max_paths: 20             # Fixed
  implementation: "cow"

# Naive sampling parameters
naive:
  temperature: 0.8
  top_p: 1.0

# INDEPENDENT VARIABLE: Branch factor
branch_factors: [2, 3, 5, 7]
prompts_per_factor: 10

# Fixed variables
prompt_length: 200

# Debug mode
debug:
  enabled: true
  branch_factors: [2, 5]
  prompts_per_factor: 2

# Metrics to track
metrics:
  cost:
    - "token_steps"
    - "wall_clock_time"
    - "memory_peak_mb"
    - "tokens_per_sample"
  efficiency:
    - "speedup_factor"
    - "cost_ratio"
  branching:
    - "branch_count"
    - "avg_branch_position"
    - "final_path_count"
  quality:
    - "diversity_score"      # Self-BLEU or similar
    - "coherence_score"      # Perplexity
    - "unique_tokens_ratio"  # Unique tokens / total tokens

# Output configuration
output:
  save_raw_results: true
  save_intermediate: true
  save_generated_texts: true
  results_dir: "results"
  figures_dir: "results/figures"
  texts_dir: "results/generated_texts"

# Reproducibility
seed: 42
